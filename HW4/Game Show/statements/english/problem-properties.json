{"extraResources":{"example.01.mu":"TVXzATUgMw0KNSAtMiAzIC00IDgNCjIgMSA0DQoxIDUgMyAxDQoyIDEgMg0K","example.02.mu":"TVXzATEwIDYNCjEwIDIwIC01MCAxIDIgNDAgLTYgOCA5IC01DQoyIDEgMw0KMSA2IDMgMTAwDQoxIDIgNCA1DQoxIDIgNSA2DQoyIDEwIDgNCjIgNSA2DQo=","example.03.mu":"TVXzATUgMQ0KLTEgLTIgLTMgLTQgLTUNCjIgMSAyDQo="},"scoring":"The following are the scoring criteria for this problem. The maximum score is $100$, and you will receive the score for each subtask if your program passes that subtask.\n\n\\begin{center}\n  \\begin{tabular}{ | c | c | c | c | } \\hline\n    \\bf{Subtask} &\n    \\bf{Constraints} &\n    \\bf{Score} &\n    \\bf{Additional Constraints} \\\\ \\hline\n    $1$ & Example test case & $0$ & None \\\\ \\hline\n    $2$ & $n \\le 10$ & $20$ & None \\\\ \\hline\n    $3$ & $n, m \\le 100$ & $20$ & None \\\\ \\hline\n    $4$ & $n, m \\le 10^4$ & $30$ & Must pass subtasks 2, and 3 \\\\ \\hline\n    $5$ & No additional Constraints & $30$ & Must pass subtasks 1, 2, 3, and 4 \\\\ \\hline\n    \\end{tabular}\n\\end{center}","notes":"","legend":"You receive an invitation to participate in a game show, where you encounter a playing field scattered with $n$ balls. Each ball is labeled with a unique identifier $i$ and has an associated value $v_i$ (note that $v_i$ can be negative). Your objective is to collect a subset of these balls, place them in your bag, and maximize your earnings by the end of the game. The earnings are calculated as $\\max(0, \\sum_{i \\in S} v_i)$ dollars, where $S$ is the set of balls you've chosen. To add a twist to the game, there are $m$ additional rules, each falling into one of the following categories:\n\\begin{itemize}\n    \\item If you pick up ball $i$ but not ball $j$, you will incur a penalty of $x$ dollars.\n    \\item If you pick up ball $i$, you are required to also pick up ball $j$.\n\\end{itemize}\nYour task write a program that determines the optimal set of balls to collect in order to maximize your prize money.\n","authorLogin":"slee","language":"english","timeLimit":3000,"output":"In the first line, output the maximum prize you can get.\n\nIn the second line, output a single integer, representing the number of balls you picked up.\n\nIn the third line, output the indices of the balls that you picked up (any order is fine).\n\nThere might be multiple correct answer, you will get the points if you output any of them.","inputFile":"stdin","outputFile":"stdout","input":"The first line contains two integers $n, m$\n\nThe next line contains $n$ integers $v_1, \\cdots, v_n$\n\nThe following $m$ lines contains two possibilities\n\\begin{enumerate}\n    \\item \\texttt{1 i j x}\n    \\item \\texttt{2 i j}\n\\end{enumerate}\n\n\\textbf{Constraints}\n\\begin{itemize}\n\\item $2 \\le n \\le 10^5$\n\\item $1 \\le m \\le 10^5$\n\\item $|v_i| \\le 10^9$\n\\item $1 \\le x_i \\le 10^9$\n\\item $i \\ne j$ for all rules, but it is possible to have same $(i,j)$ for different rules\n\\end{itemize}","authorName":"Sam Lee","sampleTests":[{"output":"11\n2\n3 5 ","input":"5 3\n5 -2 3 -4 8\n2 1 4\n1 5 3 1\n2 1 2\n","inputFile":"example.01","outputFile":"example.01.a"},{"output":"40\n8\n2 4 5 8 9 6 3 1 ","input":"10 6\n10 20 -50 1 2 40 -6 8 9 -5\n2 1 3\n1 6 3 100\n1 2 4 5\n1 2 5 6\n2 10 8\n2 5 6\n","inputFile":"example.02","outputFile":"example.02.a"},{"output":"0\n0\n","input":"5 1\n-1 -2 -3 -4 -5\n2 1 2\n","inputFile":"example.03","outputFile":"example.03.a"}],"name":"Game Show","interaction":null,"memoryLimit":268435456,"tutorial":""}
